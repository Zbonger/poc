pipeline {
    /* insert Declarative Pipeline here */
    def targetVersion = getDevVersion()

    //Specify agent
    agent any

    stages {
        stage('Maven Build with unit test') {
        steps {
            dir("${env.WORKSPACE}/spring-boot-docker-jenkins") {
                sh 'mvn -Dbuild.number=${targetVersion} clean install'
            }
          }
        }
    }
}